version: "3.8"

services:
    discord-bot:
        image: docker pull ghcr.io/davinci-labs-team/discord-bot:latest
        container_name: discord_bot
        restart: unless-stopped
        logging:
            driver: json-file
            options:
                max-size: "50m"
                max-file: "5"
        environment:
            NODE_ENV: production
            ENV: production
            SUPABASE_HOST: supabase
            SUPABSE_TOKEN: ${SUPABASE_TOKEN}
            BOT_TOKEN: ${BOT_TOKEN}
            DEV_SERVER_ID: "1190356451273740288"
            CLIENT_ID: "client_id"
        networks:
            - davinci-production

networks:
    davinci-production:
        external: true
